<%= content_for :scripts do %>
  <script>
    function regionMap(latitude, longitude) {
      latitude = latitude.toFixed(1);
      longitude = longitude.toFixed(1);
      console.log("Clicked on " + latitude.toString() + ", " + longitude.toString())
      $('#latitude').val(latitude);
      $('#longitude').val(longitude);
      return false;
    }
  </script>
<% end %>

<map name="latlong" id="latlong">

  <% build_map_grid().each do |g| %>
    <area
      shape="rect"
      coords="<%=g[:x1]%>,<%=g[:y1]%>,<%=g[:x2]%>,<%=g[:y2]%>"
      onclick="return regionMap(<%=g[:lat]%>,<%=g[:long]%>)"/>
  <% end %>

</map>
